{
  "$id": "cp.notification.core.v1.json",
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "title": "CP Notification Core (text)",
  "type": "object",
  "required": ["notification_code", "recipient_role", "recipient_id", "body", "options", "meta"],
  "properties": {
    "notification_code": { "type": "string", "minLength": 1, "pattern": "^[a-z0-9]+(\\.[a-z0-9_]+)*$" },
    "company_id": { "type": ["integer", "null"], "minimum": 1 },
    "recipient_role": { "type": "string", "enum": ["user", "manager", "client"] },
    "recipient_id": { "type": "integer", "minimum": 1 },
    "body": { "type": "string", "minLength": 1 },
    "options": { "type": "object", "additionalProperties": true },
    "meta": { "type": "object", "additionalProperties": true }
  },
  "additionalProperties": false
}
